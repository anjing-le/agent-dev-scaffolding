---
title: 代码风格和命名规范
description: Vue 3 + TypeScript 项目的代码风格、命名规范和格式化要求
tags: [代码风格, 命名规范, ESLint, Prettier]
---

# 代码风格和命名规范

## 通用代码风格

### ESLint 规则

- 使用 **单引号** 替代双引号
- 语句末尾 **不加分号**
- 使用 `let` 或 `const`，禁止使用 `var`
- 最多允许 1 个连续空行
- 使用 2 空格缩进
- 禁止出现意外的多行空余

### 代码格式化

项目使用 Prettier 进行代码格式化，配置已集成到 ESLint 中。

提交代码前会自动执行：
- ESLint 检查和修复
- Prettier 格式化
- Stylelint 样式检查

## 文件命名规范

### Vue 组件文件

使用 **PascalCase** 命名：

```
✅ UserList.vue
✅ MenuTree.vue
✅ DataTable.vue
✅ FormDialog.vue

❌ userList.vue
❌ menu-tree.vue
❌ data_table.vue
```

### TypeScript/JavaScript 文件

使用 **camelCase** 命名：

```
✅ useTable.ts
✅ tableUtils.ts
✅ formatDate.ts
✅ httpRequest.ts

❌ UseTable.ts
❌ table-utils.ts
❌ format_date.ts
```

### 类型定义文件

使用 **kebab-case + .d.ts** 命名：

```
✅ api.d.ts
✅ router.d.ts
✅ component.d.ts
✅ auto-imports.d.ts

❌ Api.d.ts
❌ routerTypes.d.ts
❌ component.types.ts
```

### 样式文件

使用 **kebab-case** 命名：

```
✅ theme-change.scss
✅ el-ui.scss
✅ router-transition.scss
✅ one-dark-pro.scss

❌ themeChange.scss
❌ ElUI.scss
❌ router_transition.scss
```

### 目录命名

使用 **kebab-case** 命名：

```
✅ system-manage/
✅ user-center/
✅ form-dialog/
✅ data-table/

❌ systemManage/
❌ UserCenter/
❌ form_dialog/
```

## 变量命名规范

### 普通变量

使用 **camelCase**：

```typescript
// ✅ 正确
const userName = 'admin'
const tableData = []
const isLoading = false
const hasPermission = true

// ❌ 错误
const user_name = 'admin'
const TableData = []
const is_loading = false
```

### 常量

使用 **UPPER_SNAKE_CASE**：

```typescript
// ✅ 正确
const MAX_COUNT = 100
const API_BASE_URL = '/api'
const DEFAULT_PAGE_SIZE = 20

// ❌ 错误
const maxCount = 100
const apiBaseUrl = '/api'
```

### 布尔值变量

使用 `is`、`has`、`can`、`should` 等前缀：

```typescript
// ✅ 正确
const isVisible = true
const hasPermission = false
const canEdit = true
const shouldUpdate = false

// ❌ 错误
const visible = true
const permission = false
const edit = true
```

## 函数命名规范

### 普通函数

使用 **camelCase**，动词开头：

```typescript
// ✅ 正确
function fetchUserList() {}
function handleSubmit() {}
function formatDate() {}
function validateForm() {}
function getUserInfo() {}

// ❌ 错误
function FetchUserList() {}
function submit() {} // 缺少动词
function user_info() {} // 命名格式错误
```

### Hooks 函数

使用 **use** 前缀：

```typescript
// ✅ 正确
function useTable() {}
function useAuth() {}
function usePermission() {}

// ❌ 错误
function tableHook() {}
function authComposable() {}
```

### 事件处理函数

使用 **handle** 或 **on** 前缀：

```typescript
// ✅ 正确
const handleClick = () => {}
const handleSubmit = () => {}
const onSuccess = () => {}
const onChange = () => {}

// ❌ 错误
const click = () => {}
const submit = () => {}
const success = () => {}
```

### API 请求函数

使用 **fetch** 前缀：

```typescript
// ✅ 正确
function fetchGetUserList() {} // GET 请求
function fetchCreateUser() {} // POST 创建
function fetchUpdateUser() {} // PUT/PATCH 更新
function fetchDeleteUser() {} // DELETE 删除

// ❌ 错误
function getUserList() {}
function createUser() {}
function apiGetUser() {}
```

## 类型命名规范

### Interface

使用 **PascalCase**，避免使用 `I` 前缀：

```typescript
// ✅ 正确
interface UserInfo {}
interface FormData {}
interface TableColumn {}

// ❌ 错误
interface IUserInfo {} // 避免 I 前缀
interface userInfo {} // 应该使用 PascalCase
interface User_Info {} // 避免下划线
```

### Type

使用 **PascalCase**：

```typescript
// ✅ 正确
type UserId = number
type UserStatus = '1' | '2'
type TableData<T> = T[]

// ❌ 错误
type userId = number
type user_status = '1' | '2'
```

### Enum

使用 **PascalCase**，枚举值使用 **UPPER_SNAKE_CASE**：

```typescript
// ✅ 正确
enum UserStatus {
  ACTIVE = '1',
  INACTIVE = '2',
  PENDING = '3'
}

enum RequestMethod {
  GET = 'GET',
  POST = 'POST',
  PUT = 'PUT',
  DELETE = 'DELETE'
}

// ❌ 错误
enum userStatus {
  active = '1',
  inactive = '2'
}
```

## CSS 类命名规范

### 使用 BEM 命名法（当不使用 Tailwind 时）

```scss
// ✅ 正确
.user-list {}
.user-list__item {}
.user-list__item--active {}
.user-list__header {}

// ❌ 错误
.userList {}
.user_list {}
.UserList {}
```

### Tailwind CSS 类

优先使用 Tailwind 的实用类：

```vue
<template>
  <!-- ✅ 正确 -->
  <div class="flex items-center justify-between p-4 bg-white rounded-lg shadow-sm">
    <span class="text-lg font-bold text-gray-800">标题</span>
  </div>
</template>
```

## 注释规范

### 单行注释

```typescript
// ✅ 正确 - 注释前空一行，注释后有空格
const userName = 'admin'

// 这是一个用户名变量
const userAge = 18

// ❌ 错误 - 注释后没有空格
//这是错误的注释
const userId = 1
```

### JSDoc 注释

对于公共函数和工具函数，建议使用 JSDoc：

```typescript
/**
 * 格式化日期
 * @param date 日期对象或时间戳
 * @param format 格式化模板，默认 'YYYY-MM-DD'
 * @returns 格式化后的日期字符串
 * @example
 * formatDate(new Date(), 'YYYY-MM-DD HH:mm:ss')
 * // => '2025-11-19 10:30:00'
 */
export function formatDate(
  date: Date | number, 
  format: string = 'YYYY-MM-DD'
): string {
  // 实现逻辑
}
```

## 导入顺序

按以下顺序组织导入语句：

```typescript
// 1. Vue 核心（自动导入的无需写）
// import { ref, computed } from 'vue'

// 2. 第三方库
import { ElMessage, ElMessageBox } from 'element-plus'
import type { FormInstance, FormRules } from 'element-plus'
import { useRoute, useRouter } from 'vue-router'

// 3. 项目内部模块（按路径别名）
import { fetchGetUserList } from '@/api/system-manage'
import { useUserStore } from '@stores/user'
import { formatDate } from '@utils/index'

// 4. 类型导入
import type { AppRouteRecord } from '@/types/router'

// 5. 样式文件
import './style.scss'
```

## 代码组织

### Vue 组件内部顺序

```vue
<script setup lang="ts">
// 1. 类型定义
interface Props {
  visible: boolean
}

// 2. Props 和 Emits
const props = defineProps<Props>()
const emit = defineEmits<{
  close: []
}>()

// 3. 依赖注入
const route = useRoute()
const router = useRouter()
const userStore = useUserStore()

// 4. 响应式数据
const loading = ref(false)
const tableData = ref([])

// 5. 计算属性
const total = computed(() => tableData.value.length)

// 6. 方法
const fetchData = async () => {}
const handleSubmit = () => {}

// 7. 监听器
watch(() => props.visible, (val) => {})

// 8. 生命周期
onMounted(() => {})
onUnmounted(() => {})
</script>

<template>
  <!-- 模板 -->
</template>

<style lang="scss" scoped>
/* 样式 */
</style>
```

## 其他规范

### 空行使用

- 函数之间空一行
- 代码块之间空一行
- 最多连续一个空行

```typescript
// ✅ 正确
const a = 1

const b = 2

function test1() {}

function test2() {}

// ❌ 错误 - 多个连续空行
const c = 3


const d = 4
```

### 对象和数组

```typescript
// ✅ 正确 - 简短的可以写在一行
const user = { name: 'admin', age: 18 }
const list = [1, 2, 3]

// ✅ 正确 - 复杂的分行写
const config = {
  name: 'admin',
  age: 18,
  roles: ['admin', 'user']
}

// ✅ 正确 - 尾随逗号
const data = {
  id: 1,
  name: 'test',
  status: '1', // 尾随逗号便于后续添加
}
```
